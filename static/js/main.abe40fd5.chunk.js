(this.webpackJsonpadminka=this.webpackJsonpadminka||[]).push([[0],{16:function(t,e,n){t.exports={Form:"ContactForm_Form__2HKHK",AddBtn:"ContactForm_AddBtn__2x5pr",Item:"ContactForm_Item__3kFv2",Label:"ContactForm_Label__2jJHH",Input:"ContactForm_Input__2L-zH"}},22:function(t,e,n){t.exports={Text:"ListElement_Text__11Tzy",List:"ListElement_List__34mkK",Item:"ListElement_Item__x-9qU",Description:"ListElement_Description__1ji9R",Button:"ListElement_Button__doTci"}},26:function(t,e,n){t.exports={Button:"ContactList_Button__1brmb",Item:"ContactList_Item__celHW",Text:"ContactList_Text__3iB2c"}},27:function(t,e,n){t.exports={Label:"Filter_Label__1Waji",Input:"Filter_Input__EnVtw",Item:"Filter_Item__3xoSZ"}},28:function(t,e,n){t.exports={ButtonStart:"TourBtns_ButtonStart__187UU",ButtonsBlock:"TourBtns_ButtonsBlock__1Yx0x",BlockTop:"TourBtns_BlockTop__1Uc1D TourBtns_ButtonsBlock__1Yx0x",BlockBottom:"TourBtns_BlockBottom__2g3cV TourBtns_ButtonsBlock__1Yx0x"}},31:function(t,e,n){t.exports={Clear:"App_Clear__1fLXu",SelectClass:"App_SelectClass__1AxP0",NewElementForSelect:"App_NewElementForSelect__3dvVK"}},32:function(t,e,n){t.exports={Backdrop:"ModalForInput_Backdrop__Si-BN",Textarea:"ModalForInput_Textarea__11fp4"}},47:function(t,e,n){t.exports={CustomWrapper:"CreateWrapper_CustomWrapper__1Zz5n"}},48:function(t,e,n){t.exports={Button:"Button_Button__4C71_"}},51:function(t,e,n){t.exports={Modal:"ModalMain_Modal__VTBEm"}},52:function(t,e,n){t.exports={NewDomBackdrop:"NewDom_NewDomBackdrop__Z2mKu"}},64:function(t,e,n){},66:function(t,e,n){},90:function(t,e){},94:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(5),o=n.n(r),s=(n(64),n(18)),i=n.n(s),u=n(7),l=n(23),d=n(4),b=(n(66),n(8)),j=n(16),m=n.n(j),f=n(109),O=n(15),p=(n(37),n(108));n(31);var h=Object(c.createContext)(),x=n(32),_=n.n(x),v=n(1);function g(t){var e=t.addDescription,n=t.closeModal,a=Object(c.useState)(""),o=Object(d.a)(a,2),s=o[0],i=o[1];return Object(r.createPortal)(Object(v.jsx)("div",{className:_.a.Backdrop,onClick:function(t){t.stopPropagation()},children:Object(v.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(s.trim()),i(""),n(!1)},children:[Object(v.jsx)("label",{children:Object(v.jsx)("textarea",{value:s,onChange:function(t){return i(t.target.value)},className:_.a.Textarea})}),Object(v.jsx)("button",{type:"submit",children:"add description"})]})}),document.getElementById("tour-buttons-container"))}var S=[];function B(t,e,n){var c=!1,a=Object(u.a)(t).reverse().reduce((function(t,e){if(e.nodeName&&"#document"!==e.nodeName&&(c&&(t=e.getAttribute("name")?t+" "+e.localName+'[name="'.concat(e.getAttribute("name"),'"]'):t+" "+e.localName),e.getAttribute("tour-attribute"))){var n=e.getAttribute("tour-attribute");c=!0,t+='[tour-attribute="'+n+'"]'}return t}),"");return S.push({path:a,description:e}),localStorage.setItem("elements",JSON.stringify(S)),console.log(a,e),n((function(t){return[].concat(Object(u.a)(t),[{path:a,description:e}])})),console.log(S)}var C=n(47),E=n.n(C),k=n(48),y=n.n(k),N=function(t){var e=t.children,n=t.onClick,c=t.id;return Object(v.jsx)("button",{id:c||"",className:y.a.Button,type:"button",onClick:n,children:e})};function I(t){t.element;var e=Object(c.useContext)(h),n=Object(c.useReducer)(e.reducer,!1),a=Object(d.a)(n,2),r=(a[0],a[1]),o=Object(c.useState)(""),s=Object(d.a)(o,2),i=s[0],u=s[1];Object(c.useEffect)((function(){var t=function(t){t.preventDefault(),t.stopPropagation(),r({type:"on"}),console.log(t.target.nodeName),u(t.target),l(t)};return document.addEventListener("contextmenu",t),function(){document.removeEventListener("contextmenu",t)}}),[]);var l=function(t){if(!e.isAdminB&&e.isStartAddElements){console.log(t.target);var n=t.target;console.log(t),"switch-work-administrator"!==n.id&&"add-selected-items"!==n.id&&(n.classList.add("".concat(E.a.SelectClass)),console.log(t.path))}};return Object(v.jsx)(N,{onClick:l,children:i.nodeName})}var T=function(t){var e=t.title,n=t.children,a=t.className,r=void 0===a?null:a,o=Object(c.useContext)(h),s=Object(c.useRef)(null),u=Object(c.useState)(""),b=Object(d.a)(u,2),j=(b[0],b[1]),m=Object(c.useState)(null),f=Object(d.a)(m,2),O=(f[0],f[1],Object(c.useState)(null)),p=Object(d.a)(O,2),x=(p[0],p[1],function(){var t=Object(l.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j(e),B(o.path,e,o.setElements);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(v.jsxs)("div",{className:r,"tour-attribute":e,ref:s,children:[n,o.isModalDescription&&Object(v.jsx)(g,{addDescription:x,closeModal:o.setIsModalDescription})]})};function w(t){var e=t.handleSubmit,n=Object(c.useRef)(Object(f.a)()),a=Object(c.useRef)(Object(f.a)()),r=Object(c.useState)(""),o=Object(d.a)(r,2),s=o[0],i=o[1],u=Object(c.useState)(""),l=Object(d.a)(u,2),j=l[0],h=l[1];return Object(v.jsx)(T,{title:"formForAddContacts",children:Object(v.jsxs)("form",{className:m.a.Form,onSubmit:function(t){t.preventDefault(),""!==s.trim()&&""!==j.trim()?(e(Object(b.a)({id:Object(f.a)()},{name:s,number:j})),i(""),h("")):O.b.info("fill in all fields")},children:[Object(v.jsx)("label",{htmlFor:n.current,className:m.a.Label,children:"Name"}),Object(v.jsx)("input",{id:n.current,className:m.a.Input,type:"text",name:"name",value:s,onChange:function(t){return i(t.target.value)}}),Object(v.jsx)("label",{htmlFor:a.current,className:m.a.Label,children:"Number"}),Object(v.jsx)("input",{id:a.current,className:m.a.Input,type:"tel",name:"number",value:j,onChange:function(t){return h(t.target.value)}}),Object(v.jsx)("div",{className:m.a.AddBtn,children:Object(v.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Add contact"})})]})})}var L=n(26),A=n.n(L);function F(t){var e=t.contacts,n=t.deleteContact;return Object(v.jsx)(T,{title:"listOfContacts",children:Object(v.jsx)("ul",{children:e.map((function(t){var e=t.name,c=t.number,a=t.id;return Object(v.jsx)("li",{children:Object(v.jsxs)("div",{className:A.a.Item,children:[Object(v.jsxs)("p",{className:A.a.Text,children:[e,": ",Object(v.jsx)("span",{children:c})]}),Object(v.jsx)("button",{type:"button",className:A.a.Button,onClick:function(){return n(a)},children:"Delete"})]})},a)}))})})}F.defaultProps={renderArr:[]};var R=n(27),D=n.n(R);function M(t){var e=t.filter,n=t.handleChange,c=a.a.useRef(Object(f.a)());return Object(v.jsxs)("div",{className:D.a.Item,children:[Object(v.jsx)("label",{className:D.a.Label,htmlFor:c.current,children:"Find contacts by name"}),Object(v.jsx)("input",{className:D.a.Input,id:c.current,value:e,onChange:n})]})}var P=function(t){return localStorage.setItem("list",JSON.stringify(t))};function H(){var t=Object(c.useState)(0),e=Object(d.a)(t,2),n=e[0],a=e[1];return Object(c.useEffect)((function(){document.title="\u0412\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u043b\u0438 ".concat(n," \u0440\u0430\u0437\u0456\u0432")})),Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{children:["\u0412\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u043b\u0438 ",n," \u0440\u0430\u0437\u0456\u0432"]}),Object(v.jsx)("button",{onClick:function(){return a(n+1)},children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0438 \u043c\u0435\u043d\u0435"})]})}var U=n(24),K=n(28),V=n.n(K);function J(t){var e=t.changeIsStartAddElements,n=Object(c.useContext)(h),a=Object(c.useState)(!1),o=Object(d.a)(a,2),s=o[0],i=o[1],u=Object(c.useState)(!1),l=Object(d.a)(u,2),b=l[0],j=l[1];Object(c.useEffect)((function(){e(s)}),[s]);return Object(r.createPortal)(Object(v.jsxs)("div",{className:V.a["".concat(b?"BlockBottom":"BlockTop")],children:[Object(v.jsx)(N,{onClick:function(){return i((function(t){return!t}))},id:"switch-work-administrator",className:V.a.ButtonStart,children:s?"stop":"start"}),Object(v.jsx)(N,{onClick:function(){console.log(n.elements),n.dispatchModal({type:"on"}),n.dispatchButton({type:"off"})},className:V.a.ButtonStart,id:"add-selected-items",children:"add selected items"}),Object(v.jsx)(N,{onClick:function(){return j((function(t){return!t}))},children:b?"\u25b2":"\u25bc"}),Object(v.jsx)(I,{})]}),document.getElementById("tour-buttons-container"))}var W=n(50),Y=n(19),q=n(29),z=n.n(q),X=function(){function t(e){var n=e.baseUrl;Object(W.a)(this,t),this.BASE_URL=n}return Object(Y.a)(t,[{key:"postElements",value:function(t){return z()({method:"post",url:this.BASE_URL,data:{data:t}})}},{key:"delElement",value:function(t){return z()({method:"post",url:"".concat(this.BASE_URL).concat(t),data:{data:t}})}},{key:"getElements",value:function(){return console.log("get"),z.a.get(this.BASE_URL).then((function(t){return t})).catch(console.log)}}]),t}(),Z=n(22),G=n.n(Z),Q=function(){var t=Object(c.useContext)(h);return Object(v.jsx)("ul",{className:G.a.List,children:t.elements.map((function(e){var n=e.description,c=e._id;return Object(v.jsxs)("li",{className:G.a.Item,children:[Object(v.jsxs)("p",{className:G.a.Description,children:[n,":"]}),Object(v.jsx)("button",{className:G.a.Button,onClick:function(){t.apiService.delElement(c),t.setElements((function(t){return t.filter((function(t){return t._id!==c}))}))},type:"button",children:"Delete"})]},c||n)}))})},$=n(51),tt=n.n($),et=function(){var t,e=Object(c.useContext)(h);return Object(r.createPortal)(Object(v.jsxs)("div",{className:tt.a.Modal,children:[Object(v.jsx)(N,{onClick:function(){e.dispatchModal({type:"off"}),e.dispatchButton({type:"on"})},children:"Start"}),Object(v.jsx)(N,{onClick:function(){e.apiService.postElements(e.elements),e.dispatchModal({type:"off"}),e.dispatchButton({type:"off"})},children:"Finish"}),(null===e||void 0===e||null===(t=e.elements)||void 0===t?void 0:t.length)>0&&Object(v.jsx)(Q,{})]}),document.getElementById("tour-buttons-container"))};n(90);var nt=n(52),ct=n.n(nt);function at(t){var e=t.reference,n=Object(c.useContext)(h),a=Object(c.useRef)(null);console.log(e.innerHTML);return Object(c.useEffect)((function(){console.log(function t(e){var n=[];if(e.children){var c,a=e.children,r=Object(U.a)(a);try{for(r.s();!(c=r.n()).done;){var s=c.value;n.push.apply(n,[o.a.findDOMNode(s)].concat(Object(u.a)(t(s))))}}catch(i){r.e(i)}finally{r.f()}return n}}(a.current))}),[a]),Object(v.jsx)("div",{className:ct.a.NewDomBackdrop,onClick:function(t){if(t.stopPropagation(),t.preventDefault(),!n.isAdminB&&n.isStartAddElements){var e=t.target;"switch-work-administrator"!==e.id&&"add-selected-items"!==e.id&&(n.setPath(t.nativeEvent.path),n.setIsModalDescription(!0))}},ref:a,"newdom-attribute":"new-dom",dangerouslySetInnerHTML:rt(e.innerHTML)})}function rt(t){return console.log("createMarkup"),{__html:t}}var ot=n(13),st={key:new Date,run:!1,continuous:!0,loading:!1,stepIndex:0,steps:[{target:'[tour-attribute="formForAddContacts"] form input[name="name"]',content:"Write the name of the subscriber"},{target:".MuiButton-label",content:"Save the contact"},{target:".Filter_Input__2-B-n",content:"Start typing a contact name to filter"},{target:'[tour-attribute="listOfContacts"] ul li div',content:"You can delete a contact"}]},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"START":return Object(b.a)(Object(b.a)({},t),{},{run:!0});case"RESET":return Object(b.a)(Object(b.a)({},t),{},{stepIndex:0});case"STOP":return Object(b.a)(Object(b.a)({},t),{},{run:!1});case"NEXT_OR_PREV":return Object(b.a)(Object(b.a)({},t),e.payload);case"RESTART":return Object(b.a)(Object(b.a)({},t),{},{stepIndex:0,run:!0,loading:!1,key:new Date});default:return t}},ut=function(){var t=Object(c.useContext)(h);console.log(t);var e=Object(c.useReducer)(it,st),n=Object(d.a)(e,2),a=n[0],r=n[1];Object(c.useEffect)((function(){localStorage.getItem("tour")||r({type:"START"})}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(){r({type:"RESTART"})},children:"Start Tour"}),Object(v.jsx)(ot.d,Object(b.a)(Object(b.a)({},a),{},{callback:function(t){var e=t.action,n=t.index,c=t.type,o=t.status;e===ot.a.CLOSE||o===ot.c.SKIPPED&&a.run||o===ot.c.FINISHED?r({type:"STOP"}):c!==ot.b.STEP_AFTER&&c!==ot.b.TARGET_NOT_FOUND||r({type:"NEXT_OR_PREV",payload:{stepIndex:n+(e===ot.a.PREV?-1:1)}})},showSkipButton:!0,showProgress:!0,styles:{tooltipContainer:{textAlign:"left"},buttonNext:{backgroundColor:"rgba(0, 139, 139, 0.845)",color:"bisque"},buttonBack:{marginRight:10},beacon:{position:"fixed",top:"0",left:"20px",fill:"rgba(0, 139, 139, 0.845)"},buttonClose:{color:"red"},buttonSkip:{backgroundColor:"bisque",color:"rgb(0, 139, 139)"}},locale:{last:"End tour",skip:"Close tour"}}))]})};function lt(t,e){switch(e.type){case"on":return!0;case"off":return!1;default:throw new Error}}function dt(t){var e=t.className,n=void 0===e?null:e,a=t.children,r=t.config,o=new X(r),s=Object(c.useState)(!1),i=Object(d.a)(s,2),l=i[0],b=i[1],j=Object(c.useState)([]),m=Object(d.a)(j,2),f=m[0],O=m[1],p=Object(c.useReducer)(lt,!1),x=Object(d.a)(p,2),_=x[0],g=x[1],S=Object(c.useReducer)(lt,!1),B=Object(d.a)(S,2),C=B[0],E=B[1],k=Object(c.useState)(!0),y=Object(d.a)(k,2),N=(y[0],y[1],Object(c.useState)(!1)),I=Object(d.a)(N,2),T=I[0],w=I[1],L=Object(c.useState)(""),A=Object(d.a)(L,2),F=A[0],R=A[1],D=Object(c.useRef)(null);return Object(c.useEffect)((function(){!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),c=1;c<e;c++)n[c-1]=arguments[c];var a=new Set;document.addEventListener("keydown",(function(e){a.add(e.code);var c,r=Object(U.a)(n);try{for(r.s();!(c=r.n()).done;){var o=c.value;if(!a.has(o))return}}catch(s){r.e(s)}finally{r.f()}a.clear(),t({type:"on"})})),document.addEventListener("keyup",(function(t){a.delete(t.code)}))}(g,"KeyL","KeyS","KeyD"),o.getElements().then((function(t){return O((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.data))}))})),console.log("fetch")}),[]),Object(v.jsxs)(h.Provider,{value:{isStartAddElements:l,apiService:o,elements:f,setElements:O,dispatchModal:g,dispatchButton:E,reducer:lt,path:F,setPath:R,isModalDescription:T,setIsModalDescription:w},children:[Object(v.jsxs)("div",{className:n,ref:D,children:[a,!_&&!C&&Object(v.jsx)(ut,{}),C&&Object(v.jsx)(J,{changeIsStartAddElements:b})]}),_&&Object(v.jsx)(et,{dispatchModal:g,dispatchButton:E}),D.current&&C&&l&&Object(v.jsx)(at,{reference:D.current})]})}var bt={baseUrl:"https://my-server-app-introdution.herokuapp.com/"};var jt=function(){var t=Object(c.useState)([]),e=Object(d.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(""),o=Object(d.a)(r,2),s=o[0],b=o[1],j=""===s?n:n.filter((function(t){var e=t.name;return function(t,e){var n=e.slice(0,t.length);return t.toLowerCase()===n.toLowerCase()}(s,e)}));function m(){return(m=Object(l.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.some((function(t){return t.name===e.name}))){t.next=4;break}return O.b.error(e.name+" is already exist"),t.abrupt("return");case 4:b(""),a((function(t){var n=[].concat(Object(u.a)(t),[e]);return P(n),n})),O.b.success("you have new contact");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){localStorage.getItem("list")&&a(JSON.parse(localStorage.getItem("list")))}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(dt,{config:bt,children:[Object(v.jsx)("h1",{children:"Phonebook"}),Object(v.jsx)(w,{handleSubmit:function(t){return m.apply(this,arguments)}}),Object(v.jsx)("h2",{children:"Contacts"}),Object(v.jsx)(M,{handleChange:function(t){var e=t.target.value;b(e.trim())},filter:s}),Object(v.jsx)(F,{contacts:j,deleteContact:function(t){a((function(e){var n=e.reduce((function(e,n){return n.id!==t?[].concat(Object(u.a)(e),[n]):Object(u.a)(e)}),[]);return P(n),n}))}}),Object(v.jsx)(O.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(O.a,{}),Object(v.jsx)(H,{})]})})};o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(jt,{})}),document.getElementById("root")),console.log([document.getElementById("root")])}},[[94,1,2]]]);
//# sourceMappingURL=main.abe40fd5.chunk.js.map