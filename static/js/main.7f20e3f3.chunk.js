/*! For license information please see main.7f20e3f3.chunk.js.LICENSE.txt */
(this.webpackJsonpadminka=this.webpackJsonpadminka||[]).push([[0],{15:function(t,e,n){t.exports={Clear:"App_Clear__1fLXu",SelectClass:"App_SelectClass__1AxP0",NewElementForSelect:"App_NewElementForSelect__3dvVK"}},17:function(t,e,n){t.exports={Form:"ContactForm_Form__2HKHK",AddBtn:"ContactForm_AddBtn__2x5pr",Item:"ContactForm_Item__3kFv2",Label:"ContactForm_Label__2jJHH",Input:"ContactForm_Input__2L-zH"}},23:function(t,e,n){t.exports={Text:"ListElement_Text__11Tzy",List:"ListElement_List__34mkK",Item:"ListElement_Item__x-9qU",Description:"ListElement_Description__1ji9R",Button:"ListElement_Button__doTci"}},27:function(t,e,n){t.exports={Button:"ContactList_Button__1brmb",Item:"ContactList_Item__celHW",Text:"ContactList_Text__3iB2c"}},28:function(t,e,n){t.exports={Label:"Filter_Label__1Waji",Input:"Filter_Input__EnVtw",Item:"Filter_Item__3xoSZ"}},29:function(t,e,n){t.exports={ButtonStart:"TourBtns_ButtonStart__187UU",ButtonsBlock:"TourBtns_ButtonsBlock__1Yx0x",BlockTop:"TourBtns_BlockTop__1Uc1D TourBtns_ButtonsBlock__1Yx0x",BlockBottom:"TourBtns_BlockBottom__2g3cV TourBtns_ButtonsBlock__1Yx0x"}},32:function(t,e,n){t.exports={Backdrop:"ModalForInput_Backdrop__Si-BN",Textarea:"ModalForInput_Textarea__11fp4"}},46:function(t,e,n){t.exports={CustomWrapper:"CreateWrapper_CustomWrapper__1Zz5n"}},47:function(t,e,n){t.exports={Button:"Button_Button__4C71_"}},50:function(t,e,n){t.exports={Modal:"ModalMain_Modal__VTBEm"}},63:function(t,e,n){},65:function(t,e,n){},89:function(t,e){},93:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(5),o=n.n(r),s=(n(63),n(19)),i=n.n(s),u=n(7),l=n(24),d=n(4),j=(n(65),n(8)),b=n(17),m=n.n(b),f=n(108),O=n(16),p=(n(36),n(107)),h=n(25);var x=n(15),v=n.n(x),_=Object(c.createContext)(),g=n(32),B=n.n(g),S=n(2);function C(t){var e=t.addDescription,n=t.closeModal,a=Object(c.useState)(""),o=Object(d.a)(a,2),s=o[0],i=o[1];return Object(r.createPortal)(Object(S.jsx)("div",{className:B.a.Backdrop,onClick:function(t){t.stopPropagation()},children:Object(S.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(s.trim()),i(""),n(!1)},children:[Object(S.jsx)("label",{children:Object(S.jsx)("textarea",{value:s,onChange:function(t){return i(t.target.value)},className:B.a.Textarea})}),Object(S.jsx)("button",{type:"submit",children:"add description"})]})}),document.getElementById("tour-buttons-container"))}var y=[];function k(t,e,n){var c=!1,a=Object(u.a)(t).reverse().reduce((function(t,e){if(e.nodeName&&"#document"!==e.nodeName&&(c&&(t=e.getAttribute("name")?t+" "+e.localName+'[name="'.concat(e.getAttribute("name"),'"]'):t+" "+e.localName),e.getAttribute("tour-attribute"))){var n=e.getAttribute("tour-attribute");c=!0,t+='[tour-attribute="'+n+'"]'}return t}),"");return y.push({path:a,description:e}),localStorage.setItem("elements",JSON.stringify(y)),console.log(a,e),n((function(t){return[].concat(Object(u.a)(t),[{path:a,description:e}])})),console.log(y)}var E=n(46),N=n.n(E),L=n(47),I=n.n(L),A=function(t){var e=t.children,n=t.onClick,c=t.id;return Object(S.jsx)("button",{id:c||"",className:I.a.Button,type:"button",onClick:n,children:e})};function w(t){t.element;var e=Object(c.useContext)(_),n=Object(c.useReducer)(e.reducer,!1),a=Object(d.a)(n,2),r=(a[0],a[1]),o=Object(c.useState)(""),s=Object(d.a)(o,2),i=s[0],u=s[1];Object(c.useEffect)((function(){var t=function(t){t.preventDefault(),t.stopPropagation(),r({type:"on"}),console.log(t.target.nodeName),u(t.target),l(t)};return document.addEventListener("contextmenu",t),function(){document.removeEventListener("contextmenu",t)}}),[]);var l=function(t){if(!e.isAdminB&&e.isStartAddElements){console.log(t.target);var n=t.target;console.log(t),"switch-work-administrator"!==n.id&&"add-selected-items"!==n.id&&(n.classList.add("".concat(N.a.SelectClass)),console.log(t.path))}};return Object(S.jsx)(A,{onClick:l,children:i.nodeName})}var F=function(t){var e=t.title,n=t.children,a=t.className,r=void 0===a?null:a,o=Object(c.useContext)(_),s=Object(c.useState)(!1),j=Object(d.a)(s,2),b=j[0],m=j[1],f=Object(c.useRef)(null),O=Object(c.useState)(""),p=Object(d.a)(O,2),x=(p[0],p[1]),g=Object(c.useState)(""),B=Object(d.a)(g,2),y=B[0],E=B[1],N=Object(c.useState)(null),L=Object(d.a)(N,2),I=(L[0],L[1],Object(c.useState)(null)),A=Object(d.a)(I,2),w=(A[0],A[1]),F=function(){var t=Object(l.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x(e),k(y,e,o.setElements);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(t){if(t.target.setAttribute("disabled","true"),w(t.target),console.log(t),!o.isAdminB&&o.isStartAddElements){var e=t.target;"switch-work-administrator"!==e.id&&"add-selected-items"!==e.id&&(e.classList.add("".concat(v.a.SelectClass)),E(t.path),m(!0))}};return Object(c.useEffect)((function(){!function t(e){var n=[];if(e.children){var c,a=e.children,r=Object(h.a)(a);try{var s=function(){var e=c.value;o.isStartAddElements?(o.elements.some((function(t){return document.querySelector(t.path)===e}))&&e.classList.add("".concat(v.a.SelectClass)),e.onclick=T):(e.classList.remove("".concat(v.a.Clear)),e.classList.remove("".concat(v.a.SelectClass))),n.push.apply(n,[e].concat(Object(u.a)(t(e))))};for(r.s();!(c=r.n()).done;)s()}catch(i){r.e(i)}finally{r.f()}return n}}(f.current)}),[]),Object(S.jsxs)("div",{className:r,"tour-attribute":e,ref:f,children:[n,b&&Object(S.jsx)(C,{addDescription:F,closeModal:m})]})};function T(t){var e=t.handleSubmit,n=Object(c.useRef)(Object(f.a)()),a=Object(c.useRef)(Object(f.a)()),r=Object(c.useState)(""),o=Object(d.a)(r,2),s=o[0],i=o[1],u=Object(c.useState)(""),l=Object(d.a)(u,2),b=l[0],h=l[1];return Object(S.jsx)(F,{title:"formForAddContacts",children:Object(S.jsxs)("form",{className:m.a.Form,onSubmit:function(t){t.preventDefault(),""!==s.trim()&&""!==b.trim()?(e(Object(j.a)({id:Object(f.a)()},{name:s,number:b})),i(""),h("")):O.b.info("fill in all fields")},children:[Object(S.jsx)("label",{htmlFor:n.current,className:m.a.Label,children:"Name"}),Object(S.jsx)("input",{id:n.current,className:m.a.Input,type:"text",name:"name",value:s,onChange:function(t){return i(t.target.value)}}),Object(S.jsx)("label",{htmlFor:a.current,className:m.a.Label,children:"Number"}),Object(S.jsx)("input",{id:a.current,className:m.a.Input,type:"tel",name:"number",value:b,onChange:function(t){return h(t.target.value)}}),Object(S.jsx)("div",{className:m.a.AddBtn,children:Object(S.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Add contact"})})]})})}var M=n(27),D=n.n(M);function R(t){var e=t.contacts,n=t.deleteContact;return Object(S.jsx)(F,{title:"listOfContacts",children:Object(S.jsx)("ul",{children:e.map((function(t){var e=t.name,c=t.number,a=t.id;return Object(S.jsx)("li",{children:Object(S.jsxs)("div",{className:D.a.Item,children:[Object(S.jsxs)("p",{className:D.a.Text,children:[e,": ",Object(S.jsx)("span",{children:c})]}),Object(S.jsx)("button",{type:"button",className:D.a.Button,onClick:function(){return n(a)},children:"Delete"})]})},a)}))})})}R.defaultProps={renderArr:[]};var P=n(28),U=n.n(P);function H(t){var e=t.filter,n=t.handleChange,c=a.a.useRef(Object(f.a)());return Object(S.jsxs)("div",{className:U.a.Item,children:[Object(S.jsx)("label",{className:U.a.Label,htmlFor:c.current,children:"Find contacts by name"}),Object(S.jsx)("input",{className:U.a.Input,id:c.current,value:e,onChange:n})]})}var K=function(t){return localStorage.setItem("list",JSON.stringify(t))};function J(){var t=Object(c.useState)(0),e=Object(d.a)(t,2),n=e[0],a=e[1];return Object(c.useEffect)((function(){document.title="\u0412\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u043b\u0438 ".concat(n," \u0440\u0430\u0437\u0456\u0432")})),Object(S.jsxs)("div",{children:[Object(S.jsxs)("p",{children:["\u0412\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u043b\u0438 ",n," \u0440\u0430\u0437\u0456\u0432"]}),Object(S.jsx)("button",{onClick:function(){return a(n+1)},children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0438 \u043c\u0435\u043d\u0435"})]})}var W=n(29),V=n.n(W);function z(t){var e=t.changeIsStartAddElements,n=Object(c.useContext)(_),a=Object(c.useState)(!1),o=Object(d.a)(a,2),s=o[0],i=o[1],u=Object(c.useState)(!1),l=Object(d.a)(u,2),j=l[0],b=l[1];Object(c.useEffect)((function(){e(s)}),[s]);return Object(r.createPortal)(Object(S.jsxs)("div",{className:V.a["".concat(j?"BlockBottom":"BlockTop")],children:[Object(S.jsx)(A,{onClick:function(){return i((function(t){return!t}))},id:"switch-work-administrator",className:V.a.ButtonStart,children:s?"stop":"start"}),Object(S.jsx)(A,{onClick:function(){console.log(n.elements),n.dispatchModal({type:"on"}),n.dispatchButton({type:"off"})},className:V.a.ButtonStart,id:"add-selected-items",children:"add selected items"}),Object(S.jsx)(A,{onClick:function(){return b((function(t){return!t}))},children:j?"\u25b2":"\u25bc"}),Object(S.jsx)(w,{})]}),document.getElementById("tour-buttons-container"))}var Y=n(49),q=n(20),Z=n(30),X=n.n(Z),G=function(){function t(e){var n=e.baseUrl;Object(Y.a)(this,t),this.BASE_URL=n}return Object(q.a)(t,[{key:"postElements",value:function(t){return X()({method:"post",url:this.BASE_URL,data:{data:t}})}},{key:"delElement",value:function(t){return X()({method:"post",url:"".concat(this.BASE_URL).concat(t),data:{data:t}})}},{key:"getElements",value:function(){return console.log("get"),X.a.get(this.BASE_URL).then((function(t){return t})).catch(console.log)}}]),t}(),Q=n(23),$=n.n(Q),tt=function(){var t=Object(c.useContext)(_);return Object(S.jsx)("ul",{className:$.a.List,children:t.elements.map((function(e){var n=e.description,c=e._id;return Object(S.jsxs)("li",{className:$.a.Item,children:[Object(S.jsxs)("p",{className:$.a.Description,children:[n,":"]}),Object(S.jsx)("button",{className:$.a.Button,onClick:function(){t.apiService.delElement(c),t.setElements((function(t){return t.filter((function(t){return t._id!==c}))}))},type:"button",children:"Delete"})]},c||n)}))})},et=n(50),nt=n.n(et),ct=function(){var t,e=Object(c.useContext)(_);return Object(r.createPortal)(Object(S.jsxs)("div",{className:nt.a.Modal,children:[Object(S.jsx)(A,{onClick:function(){e.dispatchModal({type:"off"}),e.dispatchButton({type:"on"})},children:"Start"}),Object(S.jsx)(A,{onClick:function(){e.apiService.postElements(e.elements),e.dispatchModal({type:"off"}),e.dispatchButton({type:"off"})},children:"Finish"}),(null===e||void 0===e||null===(t=e.elements)||void 0===t?void 0:t.length)>0&&Object(S.jsx)(tt,{})]}),document.getElementById("tour-buttons-container"))};n(89),n(13),new Date;function at(t,e){switch(e.type){case"on":return!0;case"off":return!1;default:throw new Error}}function rt(t){var e=t.className,n=void 0===e?null:e,a=t.children,r=t.config,o=new G(r),s=Object(c.useState)(!1),i=Object(d.a)(s,2),l=i[0],j=i[1],b=Object(c.useState)([]),m=Object(d.a)(b,2),f=m[0],O=m[1],p=Object(c.useReducer)(at,!1),x=Object(d.a)(p,2),v=x[0],g=x[1],B=Object(c.useReducer)(at,!1),C=Object(d.a)(B,2),y=C[0],k=C[1];return Object(c.useEffect)((function(){!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),c=1;c<e;c++)n[c-1]=arguments[c];var a=new Set;document.addEventListener("keydown",(function(e){a.add(e.code);var c,r=Object(h.a)(n);try{for(r.s();!(c=r.n()).done;){var o=c.value;if(!a.has(o))return}}catch(s){r.e(s)}finally{r.f()}a.clear(),t({type:"on"})})),document.addEventListener("keyup",(function(t){a.delete(t.code)}))}(g,"KeyL","KeyS","KeyD"),o.getElements().then((function(t){return O((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.data))}))})),console.log("fetch")}),[]),Object(S.jsxs)(_.Provider,{value:{isStartAddElements:l,apiService:o,elements:f,setElements:O,dispatchModal:g,dispatchButton:k,reducer:at},children:[Object(S.jsxs)("div",{className:n,children:[a,y&&Object(S.jsx)(z,{changeIsStartAddElements:j})]}),v&&Object(S.jsx)(ct,{dispatchModal:g,dispatchButton:k})]})}var ot={baseUrl:"https://my-server-app-introdution.herokuapp.com/"};var st=function(){var t=Object(c.useState)([]),e=Object(d.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(""),o=Object(d.a)(r,2),s=o[0],j=o[1],b=""===s?n:n.filter((function(t){var e=t.name;return function(t,e){var n=e.slice(0,t.length);return t.toLowerCase()===n.toLowerCase()}(s,e)}));function m(){return(m=Object(l.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.some((function(t){return t.name===e.name}))){t.next=4;break}return O.b.error(e.name+" is already exist"),t.abrupt("return");case 4:j(""),a((function(t){var n=[].concat(Object(u.a)(t),[e]);return K(n),n})),O.b.success("you have new contact");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){localStorage.getItem("list")&&a(JSON.parse(localStorage.getItem("list")))}),[]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(rt,{config:ot,children:[Object(S.jsx)("h1",{children:"Phonebook"}),Object(S.jsx)(T,{handleSubmit:function(t){return m.apply(this,arguments)}}),Object(S.jsx)("h2",{children:"Contacts"}),Object(S.jsx)(H,{handleChange:function(t){var e=t.target.value;j(e.trim())},filter:s}),Object(S.jsx)(R,{contacts:b,deleteContact:function(t){a((function(e){var n=e.reduce((function(e,n){return n.id!==t?[].concat(Object(u.a)(e),[n]):Object(u.a)(e)}),[]);return K(n),n}))}}),Object(S.jsx)(O.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(S.jsx)(O.a,{}),Object(S.jsx)(J,{})]})})};o.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(st,{})}),document.getElementById("root")),console.log([document.getElementById("root")])}},[[93,1,2]]]);
//# sourceMappingURL=main.7f20e3f3.chunk.js.map